import{c as st,a as i,d as xt,f as v,s as N}from"../chunks/Userw6NI.js";import{i as gt}from"../chunks/Bel_a5e4.js";import{f as O,p as _t,o as ht,a as yt,s as t,c as e,b as d,m as h,g as o,r,t as j,n as W}from"../chunks/DWVmqvGf.js";import{l as wt,s as kt,i as F}from"../chunks/CYarFYJq.js";import{I as St,s as Nt,j as $t,k as Ct,l as Tt,r as Ot,n as at,o as Et,p as It}from"../chunks/Bie0i7xx.js";import{b as At,S as H}from"../chunks/D2psEQJ0.js";import{S as Lt}from"../chunks/DgdaNoN1.js";import{Z as Rt}from"../chunks/CR0PcDjR.js";import{S as Dt,C as ot}from"../chunks/COiV3aTz.js";import{C as Mt}from"../chunks/CJA0Rhi3.js";function Pt(V,K){const E=wt(K,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];St(V,kt({name:"triangle-alert"},()=>E,{get iconNode(){return $},children:(y,I)=>{var A=st(),C=O(A);Nt(C,K,"default",{}),i(y,A)},$$slots:{default:!0}}))}var Ut=v('<div class="flex items-center gap-2 text-green-500 font-mono text-sm border border-green-500/30 px-3 py-1 bg-green-500/10"><div class="w-2 h-2 bg-green-500 animate-pulse"></div> NODE ONLINE</div>'),jt=v('<div class="h-64 flex items-center justify-center border border-border bg-card"><span class="animate-pulse font-mono">INITIALIZING UPLINK...</span></div>'),Wt=v('<div class="h-[60vh] flex flex-col items-center justify-center border border-dashed border-border bg-card/50"><!> <h3 class="text-2xl font-bold mb-2">NO ACTIVE NODE FOUND</h3> <p class="text-muted-foreground max-w-md text-center mb-8">Stake tokens to activate your Warden node and begin relaying traffic for the Zarkham network.</p> <button class="bg-primary text-primary-foreground px-8 py-3 font-bold hover:bg-primary/90 transition-colors">INITIALIZE WARDEN</button></div>'),Ft=v('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground">TOTAL EARNINGS</span> <!></div> <div class="text-4xl font-bold text-primary"> <span class="text-lg text-white">SOL</span></div> <p class="text-xs text-muted-foreground mt-2"> </p>',1),Kt=v('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground">DATA RELAYED</span> <!></div> <div class="text-4xl font-bold text-white"> <span class="text-lg text-muted-foreground">GB</span></div> <div class="mt-4 flex gap-2 text-xs font-mono"><span class="bg-card border border-border px-2 py-1">UP: 99.9%</span> <span class="bg-card border border-border px-2 py-1"> </span></div>',1),Zt=v('<div class="flex justify-between items-center mb-4"><span class="text-xs font-mono text-muted-foreground">DIRECT CONNECT</span> <button class="flex items-center gap-2 text-xs hover:text-primary transition-colors"><!> </button></div> <div class="p-3 bg-background border border-border font-mono text-xs break-all"> </div> <p class="text-[10px] text-muted-foreground mt-2">Share this multiaddr with Seekers for direct connection.</p>',1),Gt=v('<div class="bg-red-900/20 border border-red-500/50 p-3"><div class="flex items-center gap-2 text-red-500 font-bold text-xs mb-1"><!> ACCOUNT CORRUPTED</div> <p class="text-[10px] text-red-200 mb-2">On-chain data mismatch detected.</p> <button class="w-full bg-red-600 text-white text-xs py-1 hover:bg-red-500">RUN MIGRATION TOOL</button></div>'),zt=v('<div class="text-xs text-green-500 flex items-center gap-2"><!> Integrity Verified</div>'),Bt=v('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground">SYSTEM HEALTH</span> <!></div> <div class="space-y-4"><div class="text-xs font-mono text-muted-foreground break-all"><span class="block text-white mb-1">PEER ID:</span> </div> <!></div>',1),Ht=v('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="md:col-span-2 space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <!></div> <!></div> <!></div>'),Vt=v('<div class="fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50"><div class="bg-card border border-border max-w-md w-full p-8 space-y-6"><h3 class="text-2xl font-bold">Warden Activation</h3> <div class="space-y-4"><div><label class="block text-xs font-mono text-muted-foreground mb-2">STAKE TOKEN</label> <div class="grid grid-cols-2 gap-2"><button>SOL</button> <button>USDC</button></div></div> <div><label class="block text-xs font-mono text-muted-foreground mb-2">STAKE AMOUNT</label> <input type="number" class="w-full bg-background border border-border p-2 text-white focus:border-primary outline-none"/></div></div> <div class="flex gap-4"><button class="flex-1 bg-primary text-black font-bold py-3 hover:bg-primary/90">CONFIRM STAKE</button> <button class="px-4 py-3 text-muted-foreground hover:text-white">CANCEL</button></div></div></div>'),Yt=v('<div class="space-y-8"><div class="flex items-center justify-between"><div><h2 class="text-4xl font-bold uppercase tracking-tighter">Warden Console</h2> <p class="text-muted-foreground">Manage your node and earnings.</p></div> <!></div> <!> <!></div>');function de(V,K){_t(K,!1);let E=h(!0),$=h(!1),y=h(null),I=h(null),A=h(null),C=h(!1),Y=h(1),L=h("SOL");const Z="warden";ht(async()=>{await q()});async function q(){d(E,!0);const a=await $t(Z);d($,a.is_registered),d(y,a.warden),d(I,await Ct()),o($)&&d(A,await Tt(Z)),d(E,!1)}async function dt(){try{await Et(Z,o(L),o(Y)),d(C,!1),await q()}catch(a){alert("Registration failed: "+a)}}async function it(){confirm("This will attempt to fix account data serialization issues. Continue?")&&(await It(Z),await q())}let J=h("Copy");async function nt(){var a;if((a=o(I))!=null&&a.p2pMultiaddr)try{await navigator.clipboard.writeText(o(I).p2pMultiaddr),d(J,"Copied!"),setTimeout(()=>d(J,"Copy"),2e3)}catch(l){console.error("Failed to copy: ",l)}}gt();var Q=Yt(),X=e(Q),lt=t(e(X),2);{var vt=a=>{var l=Ut();i(a,l)};F(lt,a=>{o($)&&a(vt)})}r(X);var rt=t(X,2);{var ct=a=>{var l=jt();i(a,l)},pt=a=>{var l=st(),G=O(l);{var R=f=>{var c=Wt(),m=e(c);Lt(m,{class:"w-16 h-16 text-muted-foreground mb-4"});var w=t(m,6);w.__click=()=>d(C,!0),r(c),i(f,c)},D=f=>{var c=Ht(),m=e(c),w=e(m),M=e(w);H(M,{children:(x,et)=>{var p=Ft(),s=O(p),g=t(e(s),2);Rt(g,{class:"w-5 h-5 text-primary"}),r(s);var n=t(s,2),_=e(n);W(),r(n);var u=t(n,2),k=e(u);r(u),j((S,P)=>{N(_,`${S??""} `),N(k,`Pending: ${P??""} SOL`)},[()=>(o(y).totalEarnings/1e9).toFixed(4),()=>(o(y).pendingClaims/1e9).toFixed(4)]),i(x,p)},$$slots:{default:!0}});var z=t(M,2);H(z,{children:(x,et)=>{var p=Kt(),s=O(p),g=t(e(s),2);Dt(g,{class:"w-5 h-5 text-primary"}),r(s);var n=t(s,2),_=e(n);W(),r(n);var u=t(n,2),k=t(e(u),2),S=e(k);r(k),r(u),j(P=>{N(_,`${P??""} `),N(S,`CONN: ${o(y).activeConnections??""}`)},[()=>(o(y).totalBandwidthServed/1024).toFixed(2)]),i(x,p)},$$slots:{default:!0}}),r(w);var B=t(w,2);H(B,{children:(x,et)=>{var p=Zt(),s=O(p),g=t(e(s),2);g.__click=nt;var n=e(g);Mt(n,{class:"w-3 h-3"});var _=t(n);r(g),r(s);var u=t(s,2),k=e(u,!0);r(u),W(2),j(()=>{var S;N(_,` ${o(J)??""}`),N(k,((S=o(I))==null?void 0:S.p2pMultiaddr)||"Not available")}),i(x,p)},$$slots:{default:!0}}),r(m);var tt=t(m,2);H(tt,{children:(x,et)=>{var p=Bt(),s=O(p),g=t(e(s),2);ot(g,{class:"w-5 h-5 text-green-500"}),r(s);var n=t(s,2),_=e(n),u=t(e(_));r(_);var k=t(_,2);{var S=T=>{var b=Gt(),U=e(b),ft=e(U);Pt(ft,{class:"w-4 h-4"}),W(),r(U);var mt=t(U,4);mt.__click=it,r(b),i(T,b)},P=T=>{var b=zt(),U=e(b);ot(U,{class:"w-3 h-3"}),W(),r(b),i(T,b)};F(k,T=>{var b;(b=o(A))!=null&&b.corrupted?T(S):T(P,!1)})}r(n),j(()=>N(u,` ${o(y).peerId??""}`)),i(x,p)},$$slots:{default:!0}}),r(c),i(f,c)};F(G,f=>{o($)?f(D,!1):f(R)},!0)}i(a,l)};F(rt,a=>{o(E)?a(ct):a(pt,!1)})}var ut=t(rt,2);{var bt=a=>{var l=Vt(),G=e(l),R=t(e(G),2),D=e(R),f=t(e(D),2),c=e(f);c.__click=()=>d(L,"SOL");var m=t(c,2);m.__click=()=>d(L,"USDC"),r(f),r(D);var w=t(D,2),M=t(e(w),2);Ot(M),r(w),r(R);var z=t(R,2),B=e(z);B.__click=dt;var tt=t(B,2);tt.__click=()=>d(C,!1),r(z),r(G),r(l),j(()=>{at(c,1,`border px-4 py-2 ${o(L)==="SOL"?"bg-primary text-black border-primary":"border-border text-muted-foreground"}`),at(m,1,`border px-4 py-2 ${o(L)==="USDC"?"bg-primary text-black border-primary":"border-border text-muted-foreground"}`)}),At(M,()=>o(Y),x=>d(Y,x)),i(a,l)};F(ut,a=>{o(C)&&a(bt)})}r(Q),i(V,Q),yt()}xt(["click"]);export{de as component};
